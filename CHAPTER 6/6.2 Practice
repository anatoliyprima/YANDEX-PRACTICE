Практическая работа 2
Когда выполните задания, создайте Merge Request в GitLab со всеми изменениями в master и ссылку на него отправьте наставнику.
Внимание: при запуске тестов может возникнуть проблема. Постарайтесь решить её собственными силами, но если они иссякнут — внимательно перечитайте текст задания ниже.






1.Создайте новую ветку flyway в репозитории приложения.


2.Добавьте в зависимости бэкенда Flyway в файл pom.xml.

ДОБАВЛЯЕМ

<dependencies>
    <dependency>
        <groupId>org.flywaydb</groupId>
        <artifactId>flyway-core</artifactId>
        <version>8.0.5</version>
    </dependency>
</dependencies>

В том же pom.xml настраивается сборщик:
<build>
    <plugins>
        <plugin>
            <groupId>org.flywaydb</groupId>
            <artifactId>flyway-maven-plugin</artifactId>
            <version>8.0.5</version>
            <configuration>
                <locations>
                    <location>classpath:db/migration</location>
                </locations>
            </configuration>
        </plugin>
    </plugins>
</build>



3.Создайте в бэкенде папку для миграционных скриптов src/main/resources/db/migration


4.Соорудите для Flyway три SQL-файла, которые создадут:
  таблицы order_product, orders, product:
create table order_product
(
    quantity integer not null,
    order_id bigint not null,
    product_id bigint not null

);

create table orders
(
    id bigint generated by default as identity,
    date_created date,
    status varchar(255)
);

create table product
(
    id bigint generated by default as identity,
    name varchar(255) not null,
    picture_url varchar(255),
    price double precision
);

5. изменения в таблице product размера колонки name на 20, а колонки picture_url на 100

6. выдачу прав read_user — на чтение, write_user — чтение и запись, а admin_user — все привилегии в нашей базе

7. индексы, которые вы придумали в предыдущем уроке

Постарайтесь использовать скрипты Repeatable и Versioned типов. Подумайте, в каком порядке должны идти эти скрипты, а также как их правильно назвать.
Убедитесь, что backend успешно собирается.
Создайте Merge Request в GitLab со всеми изменениями в master и ссылку на него отправьте наставнику.
